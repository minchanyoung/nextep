@startuml NEXTEP_AI_UseCase_Diagram

title NEXTEP.AI 커리어 예측 및 조언 시스템 - Use Case Diagram

!define GUEST_COLOR #E8F4FD
!define USER_COLOR #D4F4DD  
!define ADMIN_COLOR #FFE4B5
!define SYSTEM_COLOR #F0F0F0

actor "비회원 사용자" as Guest <<비회원>> GUEST_COLOR
actor "회원 사용자" as Member <<회원>> USER_COLOR
actor "시스템 관리자" as Admin <<관리자>> ADMIN_COLOR

rectangle "NEXTEP.AI 시스템" <<시스템>> SYSTEM_COLOR {
    
    ' === 인증 및 사용자 관리 ===
    package "인증 및 사용자 관리" {
        usecase "회원가입" as UC1
        usecase "로그인" as UC2  
        usecase "로그아웃" as UC3
        usecase "프로필 관리" as UC4
        usecase "만족도 요인 설정" as UC5
    }
    
    ' === 커리어 예측 ===
    package "커리어 예측" {
        usecase "개인정보 입력" as UC6
        usecase "직업군 선택" as UC7
        usecase "예측 실행" as UC8
        usecase "예측 결과 조회" as UC9
        usecase "시나리오 비교" as UC10
        usecase "동적 직업군 변경" as UC11
    }
    
    ' === AI 조언 시스템 ===
    package "AI 조언 시스템" {
        usecase "개인화 조언 생성" as UC12
        usecase "AI 채팅 상담" as UC13
        usecase "추가 질문하기" as UC14
        usecase "대화기록 초기화" as UC15
        usecase "스트리밍 응답" as UC16
    }
    
    ' === 정보 제공 ===
    package "정보 제공" {
        usecase "노동시장 동향 조회" as UC17
        usecase "학습 추천 정보" as UC18
        usecase "FAQ 조회" as UC19
        usecase "서비스 소개 조회" as UC20
    }
    
    ' === 시스템 관리 ===
    package "시스템 관리" {
        usecase "ML 모델 관리" as UC21
        usecase "RAG 데이터 관리" as UC22
        usecase "시스템 모니터링" as UC23
        usecase "사용자 관리" as UC24
    }
}

' === 외부 시스템 ===
rectangle "외부 시스템" {
    actor "Ollama LLM" as LLM <<외부 API>>
    actor "ChromaDB" as VectorDB <<벡터 DB>>
    actor "XGBoost ML 모델" as MLModel <<ML 모델>>
    actor "Oracle DB" as Database <<데이터베이스>>
}

' === 비회원 사용자 관계 ===
Guest --> UC1 : 계정 생성
Guest --> UC6 : 정보 입력
Guest --> UC7 : 직업 선택  
Guest --> UC8 : 예측 요청
Guest --> UC9 : 결과 확인
Guest --> UC10 : 시나리오 비교
Guest --> UC11 : 직업군 변경
Guest --> UC12 : 조언 받기
Guest --> UC13 : AI 상담 (제한적)
Guest --> UC17 : 동향 조회
Guest --> UC19 : FAQ 조회
Guest --> UC20 : 서비스 소개

' === 회원 사용자 관계 ===
Member --> UC2 : 로그인
Member --> UC3 : 로그아웃
Member --> UC4 : 프로필 수정
Member --> UC5 : 만족도 설정
Member --> UC6 : 정보 입력 (자동)
Member --> UC7 : 직업 선택
Member --> UC8 : 예측 요청
Member --> UC9 : 결과 확인 (저장됨)
Member --> UC10 : 시나리오 비교
Member --> UC11 : 직업군 변경  
Member --> UC12 : 개인화 조언
Member --> UC13 : AI 채팅 상담 (전체 기능)
Member --> UC14 : 후속 질문
Member --> UC15 : 대화 초기화
Member --> UC16 : 실시간 응답
Member --> UC17 : 동향 조회
Member --> UC18 : 학습 추천
Member --> UC19 : FAQ 조회
Member --> UC20 : 서비스 소개

' === 시스템 관리자 관계 ===
Admin --> UC21 : 모델 관리
Admin --> UC22 : RAG 관리
Admin --> UC23 : 시스템 감시
Admin --> UC24 : 사용자 관리

' === Use Case 간 관계 ===
UC6 ..> UC8 : <<include>>
UC8 ..> UC9 : <<include>>
UC9 ..> UC12 : <<extend>>
UC12 ..> UC13 : <<extend>>
UC13 ..> UC14 : <<extend>>
UC13 ..> UC15 : <<extend>>
UC13 ..> UC16 : <<extend>>

UC4 ..> UC5 : <<include>>
UC2 ..> UC4 : <<extend>>

' === 외부 시스템 관계 ===
UC8 --> MLModel : 예측 요청
UC12 --> LLM : 조언 생성
UC13 --> LLM : 채팅 응답
UC14 --> LLM : 후속 답변
UC16 --> LLM : 스트리밍
UC17 --> VectorDB : 문서 검색
UC18 --> VectorDB : 추천 검색
UC1 --> Database : 계정 저장
UC2 --> Database : 인증 확인
UC4 --> Database : 프로필 저장
UC9 --> Database : 결과 저장 (회원)

' === 스타일링 ===
skinparam usecase {
    BackgroundColor WHITE
    BorderColor BLACK
    ArrowColor BLACK
}

skinparam actor {
    BackgroundColor<<비회원>> GUEST_COLOR
    BackgroundColor<<회원>> USER_COLOR  
    BackgroundColor<<관리자>> ADMIN_COLOR
    BackgroundColor<<외부 API>> #FFB6C1
    BackgroundColor<<벡터 DB>> #DDA0DD
    BackgroundColor<<ML 모델>> #98FB98
    BackgroundColor<<데이터베이스>> #F0E68C
}

skinparam package {
    BackgroundColor WHITE
    BorderColor BLUE
    FontStyle bold
}

note right of Guest : 비회원도 핵심 기능\n(예측, 기본 조언)\n이용 가능

note right of Member : 회원은 프로필 기반\n개인화 서비스와\n전체 AI 상담 이용

note bottom of Admin : 시스템 운영 및\nML/RAG 모델 관리

@enduml