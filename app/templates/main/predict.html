{% extends 'base.html' %}

{% block title %}내 커리어 예측 | NEXTEP.AI{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/predict.css') }}">
{% endblock %}

{% block header %}
    {% include 'common/header.html' %}
{% endblock %}

{% block content %}
<div class="form-wrapper predict-wrapper">
    <form id="predictionForm" class="predict-form" action="{{ url_for('main.predict_result') }}" method="post">
        <h1>내 커리어, AI에게 물어보세요</h1>
        <p class="subtitle">
            당신의 현재 정보를 알려주시면, AI가 미래의 변화를 예측해 드립니다.
        </p>

        <div class="form-grid">
            <div class="form-group">
                <label for="age">나이</label>
                <input type="number" id="age" name="age" placeholder="예: 30" required>
            </div>
            <div class="form-group">
                <label>성별</label>
                <div class="gender-buttons">
                    <button type="button" class="gender-btn" data-value="0">남성</button>
                    <button type="button" class="gender-btn" data-value="1">여성</button>
                    <input type="hidden" id="gender" name="gender" value="" required>
                </div>
            </div>
            <div class="form-group">
                <label for="education">최종 학력</label>
                <select id="education" name="education" required>
                    <option value="" disabled selected>선택해주세요</option>
                    <option value="6">대학교 졸업 이상</option>
                    <option value="5">전문대 졸업</option>
                    <option value="4">대재 또는 중퇴</option>
                    <option value="3">고졸</option>
                    <option value="2">고졸 미만</option>
                    <option value="1">무학 또는 초중퇴</option>
                </select>
            </div>
            <div class="form-group">
                <label for="monthlyIncome">현재 월 소득 (만원)</label>
                <input type="number" id="monthlyIncome" name="monthly_income" placeholder="예: 300" required>
            </div>
            <div class="form-group full-width">
                <label for="currentJobCategory">현재 직업군</label>
                <select id="currentJobCategory" name="current_job_category" required>
                    <option value="" disabled selected>선택해주세요</option>
                    <option value="3">사무 종사자</option>
                    <option value="2">전문가 및 관련 종사자</option>
                    <option value="1">관리자</option>
                    <option value="4">서비스 종사자</option>
                    <option value="5">판매 종사자</option>
                    <option value="7">기능원 및 관련 기능 종사자</option>
                    <option value="8">장치·기계조작 및 조립 종사자</option>
                    <option value="9">단순 노무 종사자</option>
                    <option value="6">농림 어업 숙련 종사자</option>
                </select>
            </div>
            <div class="form-group full-width">
                <label>현재 직무 만족도 (5점 만점)</label>
                <div class="satisfaction-group">
                    <input type="radio" id="satis1" name="job_satisfaction" value="1" required>
                    <label for="satis1">1점</label>
                    <input type="radio" id="satis2" name="job_satisfaction" value="2">
                    <label for="satis2">2점</label>
                    <input type="radio" id="satis3" name="job_satisfaction" value="3">
                    <label for="satis3">3점</label>
                    <input type="radio" id="satis4" name="job_satisfaction" value="4">
                    <label for="satis4">4점</label>
                    <input type="radio" id="satis5" name="job_satisfaction" value="5">
                    <label for="satis5">5점</label>
                </div>
            </div>
            <div class="form-group full-width">
                <label>각 요인별 현재 만족도를 평가해주세요 (1: 매우 불만족 ~ 5: 매우 만족)</label>
                <div class="satisfaction-factors-grid">
                    <div class="satisfaction-factor">
                        <label for="satisWage">임금 또는 보수</label>
                        <div class="slider-container">
                            <input type="range" id="satisWage" name="satis_wage" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisWageValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisStability">고용 안정성</label>
                        <div class="slider-container">
                            <input type="range" id="satisStability" name="satis_stability" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisStabilityValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisGrowth">발전 가능성</label>
                        <div class="slider-container">
                            <input type="range" id="satisGrowth" name="satis_growth" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisGrowthValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisTaskContent">일의 내용</label>
                        <div class="slider-container">
                            <input type="range" id="satisTaskContent" name="satis_task_content" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisTaskContentValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisWorkEnv">근무 환경</label>
                        <div class="slider-container">
                            <input type="range" id="satisWorkEnv" name="satis_work_env" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisWorkEnvValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisWorkTime">근무 시간과 여가</label>
                        <div class="slider-container">
                            <input type="range" id="satisWorkTime" name="satis_work_time" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisWorkTimeValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisCommunication">인간 관계</label>
                        <div class="slider-container">
                            <input type="range" id="satisCommunication" name="satis_communication" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisCommunicationValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisFairEval">공정한 평가와 보상</label>
                        <div class="slider-container">
                            <input type="range" id="satisFairEval" name="satis_fair_eval" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisFairEvalValue">3</div>
                        </div>
                    </div>
                    
                    <div class="satisfaction-factor">
                        <label for="satisWelfare">복리 후생</label>
                        <div class="slider-container">
                            <input type="range" id="satisWelfare" name="satis_welfare" min="1" max="5" value="3" class="satisfaction-slider">
                            <div class="slider-labels">
                                <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                            </div>
                            <div class="slider-value" id="satisWelfareValue">3</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary">예측 결과 보기</button>
    </form>
</div>

<div id="loadingOverlay" style="display: none;">
    <div class="spinner"></div>
    <p>AI가 결과를 분석하고 있습니다. 잠시만 기다려주세요...</p>
</div>
{% endblock %}

{% block footer %}
    {% include 'common/footer.html' %}
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script src="{{ url_for('static', filename='js/predict.js') }}"></script>
{% endblock %}
